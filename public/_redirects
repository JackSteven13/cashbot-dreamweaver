
# Force HTTPS - Priorit√© maximale
http://*  https://:splat 301!

# Redirection prioritaire .fr vers .io
https://streamgenius.fr/* https://streamgenius.io/:splat 301!
https://www.streamgenius.fr/* https://streamgenius.io/:splat 301!
http://streamgenius.fr/* https://streamgenius.io/:splat 301!
http://www.streamgenius.fr/* https://streamgenius.io/:splat 301!

# Redirection www vers non-www
https://www.streamgenius.io/* https://streamgenius.io/:splat 301!
http://www.streamgenius.io/* https://streamgenius.io/:splat 301!

# Configuration de proxy direct pour Supabase
/.supabase/auth/* https://cfjibduhagxiwqkiyhqd.supabase.co/auth/v1/:splat 200!
/.supabase/rest/* https://cfjibduhagxiwqkiyhqd.supabase.co/rest/v1/:splat 200!
/auth/v1/* https://cfjibduhagxiwqkiyhqd.supabase.co/auth/v1/:splat 200!
/rest/v1/* https://cfjibduhagxiwqkiyhqd.supabase.co/rest/v1/:splat 200!
/storage/v1/* https://cfjibduhagxiwqkiyhqd.supabase.co/storage/v1/:splat 200!

# Headers CORS pour toutes les routes API
/.supabase/*
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, PUT, DELETE, PATCH, OPTIONS
  Access-Control-Allow-Headers: *
  Access-Control-Allow-Credentials: true
  Access-Control-Max-Age: 86400

/auth/v1/*
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, PUT, DELETE, PATCH, OPTIONS
  Access-Control-Allow-Headers: Origin, X-Requested-With, Content-Type, Accept, Authorization, apikey, x-client-info
  Access-Control-Allow-Credentials: true
  Access-Control-Max-Age: 86400

/rest/v1/*
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, PUT, DELETE, PATCH, OPTIONS
  Access-Control-Allow-Headers: Origin, X-Requested-With, Content-Type, Accept, Authorization, apikey, x-client-info
  Access-Control-Allow-Credentials: true
  Access-Control-Max-Age: 86400

# SPA fallback - Toujours en dernier
/* /index.html 200
