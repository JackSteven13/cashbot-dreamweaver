
# Force HTTPS
http://*  https://:splat 301!

# Redirection prioritaire .fr vers .io
https://streamgenius.fr/* https://streamgenius.io/:splat 301!
https://www.streamgenius.fr/* https://streamgenius.io/:splat 301!

# Redirection www vers non-www
https://www.streamgenius.io/* https://streamgenius.io/:splat 301!

# Configuration Supabase - version optimisée pour production
/auth/v1/* https://cfjibduhagxiwqkiyhqd.supabase.co/auth/v1/:splat 200
/rest/v1/* https://cfjibduhagxiwqkiyhqd.supabase.co/rest/v1/:splat 200
/storage/v1/* https://cfjibduhagxiwqkiyhqd.supabase.co/storage/v1/:splat 200
/realtime/* https://cfjibduhagxiwqkiyhqd.supabase.co/realtime/:splat 200

# Routes CRUCIALES pour les callbacks d'authentification
/auth/callback/* /index.html 200
/auth/v1/callback/* /index.html 200
/auth/* /index.html 200
/login/* /index.html 200

# CRUCIAL: Traitement spécial des pages principale pour éviter les problèmes de routage
/dashboard/* /index.html 200!
/login /index.html 200!
/register /index.html 200!

# SPA fallback pour toutes les autres routes
/* /index.html 200

