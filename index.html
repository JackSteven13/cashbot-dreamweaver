
<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>StreamGenius - Monétisez votre audience avec l'IA</title>
    <meta name="description" content="StreamGenius - Plateforme intelligente de monétisation pour créateurs de contenu et influenceurs. Optimisez vos revenus publicitaires grâce à l'intelligence artificielle." />
    <meta name="author" content="StreamGenius" />
    <meta name="keywords" content="monétisation, audience, influenceur, créateur de contenu, revenus publicitaires, intelligence artificielle" />
    <meta property="og:title" content="StreamGenius - Monétisation intelligente" />
    <meta property="og:description" content="Plateforme d'IA pour optimiser vos revenus publicitaires. Solution complète pour créateurs de contenu et influenceurs." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://streamgenius.io" />
    <meta property="og:image" content="/og-image.png" />
    <meta property="og:site_name" content="StreamGenius" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="StreamGenius - Monétisation intelligente" />
    <meta name="twitter:description" content="Plateforme d'IA pour optimiser vos revenus publicitaires. Solution complète pour créateurs de contenu et influenceurs." />
    <meta name="twitter:image" content="/og-image.png" />
    <!-- Canonical URL to avoid duplicate content issues -->
    <link rel="canonical" href="https://streamgenius.io" />
    <!-- Robots directive to ensure proper indexing -->
    <meta name="robots" content="index, follow" />
    <!-- Force HTTPS with stronger Content-Security-Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.gpteng.co; connect-src 'self' https://api.supabase.co https://lovable.dev; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self'; upgrade-insecure-requests; block-all-mixed-content">
    <meta http-equiv="X-Content-Security-Policy" content="upgrade-insecure-requests">
    <!-- Verification de SSL -->
    <meta name="verify-ssl" content="true">
    <!-- Forcing HTTPS via http-equiv -->
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <!-- Enhanced security meta tags -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <!-- Meta-redirection en cas d'échec des autres méthodes -->
    <script>
      // Forcer HTTPS
      if (window.location.protocol === 'http:' && !window.location.hostname.includes('localhost')) {
        window.location.replace('https://' + window.location.hostname + window.location.pathname + window.location.search);
      }
      
      // Redirection immédiate de .fr vers .io
      if (window.location.hostname.includes('streamgenius.fr')) {
        window.location.replace('https://streamgenius.io' + window.location.pathname + window.location.search);
      }
    </script>
    <!-- Preconnect to important domains -->
    <link rel="preconnect" href="https://streamgenius.io" />
    <link rel="preconnect" href="https://stream-genius.lovable.app" />
    <link rel="preconnect" href="https://lovable.dev" />
    <link rel="preconnect" href="https://cdn.gpteng.co" crossorigin />
    <!-- Force dark mode -->
    <script>
      // Apply dark mode immediately to prevent flash of light mode
      document.documentElement.classList.add('dark');
      
      // Handle DNS errors - fallback mechanism
      window.addEventListener('error', function(e) {
        if (e.target.tagName === 'SCRIPT' || e.target.tagName === 'LINK') {
          console.warn('Resource loading error:', e.target.src || e.target.href);
        }
      }, true);
      
      // Check if we're on a valid domain and using HTTPS
      const validDomains = ['streamgenius.io', 'www.streamgenius.io', 'streamgenius.fr', 'www.streamgenius.fr', 'stream-genius.lovable.app', 'localhost'];
      if (!validDomains.some(domain => window.location.hostname.includes(domain))) {
        console.warn('Running on unrecognized domain:', window.location.hostname);
      }
      
      // Force HTTPS in production
      if (window.location.hostname !== 'localhost' && window.location.protocol === 'http:') {
        window.location.replace(`https://${window.location.host}${window.location.pathname}${window.location.search}`);
      }
    </script>
  </head>

  <body>
    <div id="root"></div>
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
